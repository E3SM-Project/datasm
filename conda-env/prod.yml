# Conda processing environment
# This environment is for testing local source code changes to the `datasm` modules related to the data processing operations `extract`, `validate`, and `postprocess` before merging them to production (the `master` branch).
name: datasm_proc
channels:
  # - conda-forge/label/e3sm_dev
  - conda-forge
  - e3sm
  - defaults
dependencies:
  # Base
  # ==================
  - python >=3.9
  - pip
  - distributed
  - ipdb
  - matplotlib
  - netcdf4
  - numpy >=1.23.0 # This version of numpy includes support for Python 3.11.
  - pyyaml
  - termcolor
  - tqdm
  - watchdog
  - xarray >=2022.02.0 # This version of Xarray drops support for Python 3.8.
  # Required for CWL workflows.
  - cwltool >=3.1.20220202173120
  - nodejs >=17.4.0
  # Used in modules for `extract`, `validate`, and `postprocess` operations.
  - nco >=5.1.3
  - e3sm_to_cmip >=1.9.1
  - zstash >=1.2.0
  # Used in modules for `publish` operation.
  - esgconfigparser >=1.0.0a1
  - esgcet >=5.2.0
  # Testing
  # ==================
  - pytest >=7.1.1
  # Quality Assurance
  # ==================
  - black >=22.3.0
prefix: /opt/miniconda3/envs/datasm_proc
